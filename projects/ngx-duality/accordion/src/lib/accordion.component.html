<div class="dl-accordion">
  <div 
    class="dl-accordion-header"
    [ngClass]="[isOpen ? 'dl-open':'dl-close', !animated ? 'dl-not-animated' : '']"
    [ngSwitch]="!!dualityAccordionHeaderTemplate"
    (click)=" toggle()">
    <ng-container  *ngSwitchCase="true">
      <ng-container *ngTemplateOutlet="dualityAccordionHeaderTemplate; context: { $implicit: header }">
      </ng-container>
    </ng-container>
    <h3 
      *ngSwitchDefault
      [class.dl-disabled]="disabled"
      [ngClass]="headerClass"
      [ngStyle]="headerStyle"
      [class.open]="isOpen ? 'dl-open':''">
      {{header}}
      <span 
        class="dl-accordion-arrow"
        [@rotate]="{value: animated && animationState, params: {timing: rotateTiming, rotation: '90'}}">
        &#9654;
      </span>
    </h3>
  </div>
  <div 
    class="dl-accordion-content"
    [ngClass]="[isOpen ? 'dl-open':'dl-close', !animated ? 'dl-not-animated' : '']"
    [ngSwitch]="!!dualityAccordionContentTemplate"
    [@expandHeight]="{value: animated && animationState, params: {timing: expandTiming}}">
    <ng-container *ngSwitchCase="true">
      <ng-container *ngTemplateOutlet="dualityAccordionContentTemplate; context: { $implicit: content }">
      </ng-container>
    </ng-container>
    <div 
      [ngClass]="contentClass"
      [ngStyle]="contentStyle"
      *ngSwitchDefault>
      {{content}}
    </div>
  </div>
</div>