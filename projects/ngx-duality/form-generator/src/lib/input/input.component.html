<div
  [formGroup]="group"
  [ngSwitch]="field.type">
  <label
    *ngSwitchCase="'select'">
    {{field.label}}
    <select 
      #input
      [formControlName]="controlName">
      <ng-container 
        *ngFor="let option of field.options">
        <option 
          [value]="checkPropType(option, 'value')">
            {{checkPropType(option, 'label')}}
        </option>
      </ng-container>
    </select>
  </label>
  <label 
    *ngSwitchCase="'textarea'">
    {{field.label}}
    <textarea 
      #input
      [formControlName]="controlName">
    </textarea>
  </label>
  <div
    *ngSwitchCase="'checkbox'"
    [formArrayName]="controlName">
    <label>
      {{field.label}}
    </label>
    <div
      *ngFor="let option of field.options; let i = index">
      <label>
        <input
          #input 
          type="checkbox"
          [formControlName]="i">
        {{checkPropType(option, 'label')}}
      </label>
    </div>
  </div>
  <div
    *ngSwitchCase="'radio'">
    <label>
      {{field.label}}
    </label>
    <div
      *ngFor="let option of field.options">
      <label>
        <input
          #input
          type="radio"
          [value]="option.value"
          [formControlName]="controlName">
        {{checkPropType(option, 'label')}}
      </label>
    </div>
  </div>
  <label
    *ngSwitchDefault>
  {{field.label}}
    <input
      #input
      [type]="field.type"
      [formControlName]="controlName">
  </label>
  <p
    *ngIf="!isGroup"
    class="error">{{error()}}
  </p>
</div>